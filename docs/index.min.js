!function(){"use strict";function I(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){l=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return i}}(t,e)||H(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){if(t){if("string"==typeof t)return R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(t,e):void 0}}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function Y(t,e){return t+Math.round(Math.random()*(e-t))}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function B(t){return function(t){if(Array.isArray(t))return F(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var X=[];function $(){X.pop()}function W(){return 0===X.length?"":X[X.length-1]}function o(t,e){return 1<arguments.length&&void 0!==e&&!e?t:W()+t}function U(t,e,n){e=1<arguments.length&&void 0!==e?e:1,n=2<arguments.length&&void 0!==n?n:1;return-1===".#[]".indexOf(t[t.length-1])&&(n=0),t.substring(e,t.length-n)}function G(t){var e=t.html,n=void 0===(o=t.method)?{}:o,o=t.result,r=(this.html(e.replace(new RegExp("\\n *","g"),"").replace(new RegExp("\x3c!--(.|\\n)*?--\x3e","g"),"").trim()),{});if("function"==typeof o){var i=this.query("[\\@el]");if(i){for(var a=0;a<i.length;a++){var l=i[a];(r[l.attr("@el")]=l).attr("@el",null)}o.call({el:this,method:n},r)}}for(var s,c,u=this.query("[\\@event]"),f=0;f<u.length;f++){var d,h=u[f],p=(c=s=p=void 0,s=(d=h).attr("@event").split(":"),d.attr("@event",null),d="click",c=[],-1!==(s=1===s.length?s[0]:(d=s[0],s[1])).indexOf("(")&&(null!==(p=s.match(/\(.*\)/))&&(p=p[0].replace(/'/g,'"'),p="[".concat(p.substr(1,p.length-2),"]"),c=JSON.parse(p)),s=s.substr(0,s.indexOf("("))),{event:d,name:s,args:c});n[p.name]&&h.on(p.event,(d=n[p.name]).bind.apply(d,[{el:this,bindEl:r,self:h,method:n}].concat(B(p.args))))}return this}var V={},i={};function J(t){var e,n=t.func,o=void 0===(o=t.id)?"el-style":o,t=void 0!==(t=t.pool)&&t;if("function"!=typeof n||!n.__hasReport){if(n=("string"==typeof(e=n)?e:(e.__hasReport=!0,e(V))).replace(new RegExp("\\n *","g"),"").replace(new RegExp(" *\\{","g"),"{").replace(new RegExp("\\/\\*(.|\\n)*?\\*\\/","g"),"").trim(),t)return i[o]||(i[o]=""),void(i[o]+=n);var r,t="#".concat(o);l.exist(t)?r=l.query(t):(r=l.create("style").id(o),l.query(document.head).append(r)),r.html(r.html()+n)}}function Z(){for(var n={},t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];return e.forEach(function(e){n[e]=function(t){n[e]=t}}),n}c=K,(t=[{key:"dom",value:function(){return this.el}},{key:"ref",value:function(t){return t(this),this}},{key:"class",value:function(t){return void 0===t?this.el.className:(1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||""===W()?this.el.className=t:this.el.className=t.split(" ").map(function(t){return o(t)}).join(" "),this)}},{key:"id",value:function(t){return void 0===t?this.attr("id"):this.attr("id",t)}},{key:"attr",value:function(t,e){if("object"===a(t))for(var n in t)this.el.setAttribute(n,t[n]);else{if(void 0===e)return this.el.getAttribute(t)||"";null===e?this.el.removeAttribute(t):this.el.setAttribute(t,e+"")}return this}},{key:"hasAttr",value:function(t){return this.el.hasAttribute(t)}},{key:"rmAttr",value:function(t){return this.el.removeAttribute(t),this}},{key:"style",value:function(t,e){var n,o,r=this;if(void 0===e){if(t instanceof Array)return n={},t.forEach(function(t){n[t]=r.style(t)}),n;if("object"!==a(t))return getComputedStyle(this.el)[t];for(o in t)this.style(o,t[o])}else{var i=function(t){for(var e=t.length,n="",o=0;o<e;o++){var r=t[o],i=r.charCodeAt(0);n+=65<=i&&i<=90?"-"+r.toLowerCase():r}return n}(t);-1!==(e="".concat(e)).indexOf("!important")?this.el.style.setProperty(i,tt(this.el,i,e.substring(0,e.indexOf("!important"))),"important"):this.el.style.setProperty(i,tt(this.el,i,e))}return this}},{key:"text",value:function(t){return void 0===t?this.el.innerText:(this.el.innerText=t+"",this)}},{key:"value",value:function(t){return void 0===t?this.el.value:(this.el.value=t,this)}},{key:"html",value:function(t){return void 0===t?this.el.innerHTML:(this.el.innerHTML=t+"",this)}},{key:"click",value:function(t,e){return this.on("click",t,e)}},{key:"on",value:function(t,e){var n=this,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if("object"===a(t))for(var r in t)this.on(r,t[r],e);else{if("function"!=typeof e)throw new Error("事件类型应该为 function");this.el.addEventListener(t,function(t){e.call(n,t,n)},o)}return this}},{key:"addClass",value:function(t){return t=o(t,!(1<arguments.length&&void 0!==arguments[1])||arguments[1]),this.hasClass(t)||(""===this.el.className?this.el.className=t:this.el.className+=" ".concat(t)),this}},{key:"hasClass",value:function(t){return Q(t=o(t,!(1<arguments.length&&void 0!==arguments[1])||arguments[1])).test(this.el.className)}},{key:"rmClass",value:function(t){return t=o(t,!(1<arguments.length&&void 0!==arguments[1])||arguments[1]),this.hasClass(t)&&(this.el.className=this.el.className.replace(Q(t)," ").trim()),this}},{key:"replaceClass",value:function(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return t=o(t,n),e=o(e,n),this.hasClass(t)?this.el.className=this.el.className.replace(Q(t)," ".concat(e," ")).trim():this.addClass(e),this}},{key:"toggleClass",value:function(t){return this.hasClass(t)?this.rmClass(t):this.addClass(t)}},{key:"append",value:function(){for(var e=this,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach(function(t){t instanceof Array?t.forEach(function(t){e.append(t)}):e.appendSingle(t)}),this}},{key:"appendSingle",value:function(t){var n=this;if(console.log("appendSingle",t),null!==t){var o=nt(t);try{this.el.appendChild(o)}catch(t){return console.warn(t),this}"function"==typeof o.__ed_mounted&&setTimeout(function(){var t;"function"==typeof o.__ed_mounted&&(t=g(o),o.__ed_mounted.call(t,t,n)),o.__ed_mounted=null},0),"function"==typeof o.__ed_size_ready&&function(t,e){function n(){e({width:t.offsetWidth,height:t.offsetHeight})}function o(){return t.offsetWidth&&t.offsetHeight}var r,i;if(o())return n();window.ResizeObserver?(r=new ResizeObserver(function(t){t.forEach(function(){o()&&(n(),r.disconnect())})})).observe(t):i=setInterval(function(){o()&&(n(),clearInterval(i))},50)}(o,function(t){var e;"function"==typeof o.__ed_size_ready&&(e=g(o),o.__ed_size_ready.call(e,e,t,n))})}return this}},{key:"name",value:function(t){return void 0===t?this.attr("el-name"):this.attr("el-name",t)}},{key:"insert",value:function(t){for(var n=this,e=arguments.length,o=new Array(1<e?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];o[0]instanceof Array&&(o=o[0]);var i=this.children(t);return o.forEach(function(t){var e=nt(t);if(!e)throw console.error(t),new Error("Dom is not exist: ".concat(t.toString()));n.el.insertBefore(e,i.el)}),this}},{key:"prepend",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.insert.apply(this,[0].concat(e))}},{key:"before",value:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=this.parent()).insert.apply(t,[this.index()].concat(n))}},{key:"after",value:function(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=this.parent()).insert.apply(t,[this.index()+1].concat(n))}},{key:"remove",value:function(t){if(void 0===t)try{this.parent().remove(this)}catch(t){}else"number"==typeof t?this.el.removeChild(this.el.children[t]):this.el.removeChild(t.dom());return this}},{key:"empty",value:function(){return this.html("")}},{key:"parent",value:function(t){if("number"==typeof t){if(t<1)return this;for(var e=this,n=0;n<t;n++)if(!(e=e.parent()))throw new Error("parent ".concat(n," is not exist"));return e}if(this.el.parentElement)return new K({ele:this.el.parentElement});throw new Error("parent is not exist")}},{key:"data",value:function(t,e){void 0===(n=this.el)._ed_data&&(n._ed_data={});var n=n._ed_data;if(void 0===t)return n;if("object"===a(t))if(null===t)n={};else for(var o in t)this.data(o,t[o]);else if(null===e)delete n[t];else{if(void 0===e)return n[t];n[t]=e}return this}},{key:"index",value:function(){for(var t=this.parent().children(),e=0;e<t.length;e++)if(t[e].el===this.el)return e;return-1}},{key:"next",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.parent().children(this.index()+t)}},{key:"prev",value:function(){return this.next(-(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1))}},{key:"children",value:function(){var t=arguments.length<=0?void 0:arguments[0];if("object"===a(t))return this.append.apply(this,arguments);if("number"!=typeof t)return"string"==typeof t?this.query('[el-name="'.concat(t,'"]'),!0):rt(this.el.children);if(t>=this.el.children.length||t<0)throw new Error("index is over limit");return new K({ele:this.el.children[t]})}},{key:"brother",value:function(t){return"number"==typeof t?this.parent().children(t):this.parent().children()}},{key:"created",value:function(t){return t.call(this,this),this}},{key:"mounted",value:function(t){return this.el.__ed_mounted=t,this}},{key:"sizeReady",value:function(t){return this.el.__ed_size_ready=t,this}},{key:"src",value:function(t){return void 0===t?this.dom().src:(this.dom().src=t,this)}},{key:"render",value:function(){return G.call(this,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"query",value:function(t){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]){var e=this.el.querySelector(t);if(e)return g(e);throw new Error("Element is not exist"+t)}for(var n=this.el.querySelectorAll(t),o=[],r=0;r<n.length;r++)o.push(g(n[r]));return o}},{key:"hide",value:function(){return this.style("display","none")}},{key:"show",value:function(){return this.style("display",0<arguments.length&&void 0!==arguments[0]?arguments[0]:"block")}},{key:"setVisible",value:function(){return 0<arguments.length&&void 0!==arguments[0]&&!arguments[0]?this.hide():this.show(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"block")}},{key:"mount",value:function(){return g(0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body).append(this),this}}])&&q(c.prototype,t),M&&q(c,M),Object.defineProperty(c,"prototype",{writable:!1});var r=K;function K(t){var e,n=t.tag,t=t.ele;if(!(this instanceof K))throw new TypeError("Cannot call a class as a function");t?this.el=t:(e={tag:n=n},null!==n.match(/[#\.\[]/)&&(-1!==n.indexOf("[")&&(e.attr={},n=n.replace(/(\[)(\S*?)(\])/g,function(t){return t=U(t).split("="),e.attr[t[0]]=t[1]||"",""})),e.tag=U(n.match(/^(\S*?)(#|\.|\[)/g)[0],0),-1!==n.indexOf("#")&&(e.id=U(n.match(/(#)(\S*?)(\.|\[|$)/g)[0])),-1!==n.indexOf(".")&&(e.cls=U(n.match(/(\.)(\S*?)(#|\[|$)/g)[0]).split(".").join(" ").trim())),t=e,this.el=document.createElement(t.tag),t.cls&&this.class(t.cls),t.attr&&this.attr(t.attr),t.id&&this.id(t.id))}function Q(t){return new RegExp("(^| )".concat(t,"($| )"))}function tt(t,e,n){var o;return"string"!=typeof n||-1===n.indexOf("-=")&&-1===n.indexOf("+=")?n:(o=et(n.substring(n.indexOf("=")+1)),-1!==n.indexOf("-=")&&(o[0]=-o[0]),n=-1!==n.indexOf("%")?et(t.style[e]):et(getComputedStyle(t)[e]),o[0]+n[0]+o[1])}function et(t,e){if(t=t||"0%",void 0===e)if(t.includes("px"))e="px";else if(t.includes("%"))e="%";else{if(!t.includes("em"))return[parseFloat(t),"px"];e="em"}return[parseFloat(t.substring(0,t.indexOf(e))),e]}function nt(t){return t instanceof HTMLElement?t:"string"==typeof t?document.querySelector(t):t.el}function g(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(t instanceof r)return t;if(t instanceof HTMLElement)return new r({ele:t});if("object"===a(t))return t;if(!0===e)return rt(document.querySelectorAll(t));if(e=document.querySelector(t))return new r({ele:e});throw console.error(e),new Error("Element is not exist")}function ot(){return new r({tag:0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div"})}function rt(t){return[].slice.apply(t).map(function(t){return new r({ele:t})})}function it(){}function at(t,e){var n=[{clientX:t.clientX,clientY:t.clientY,force:1,identifier:0,pageX:t.pageX,pageY:t.pageY,radiusX:11.5,radiusY:11.5,rotationAngle:0,screenX:t.screenX,screenY:t.screenY,target:t.target}];return t.touchType=e,t.touches="touchend"===e?[]:n,t.changedTouches=n,t}lt={},["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody","abbr","article","aside","b","base","bdi","bdo","blockquote","caption","cite","del","details","dialog","em","embed","figure","footer","header","hr","menu","nav","noscript","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var","style","meta","head","link"].forEach(function(t){lt[t]={get:function(){return ot(t)}}}),Object.defineProperties(ct,lt);var lt,e=ct,st=null;function ct(t){return ot(t)}function ut(){for(var t=navigator.userAgent.toLowerCase(),e=["android","iphone","symbianos","windows phone","ipad","ipod"],n=0;n<e.length;n++)if(0<t.indexOf(e[n]))return"iphone"===e[n]?"ios":e[n];return!1}var l={query:g,exist:function(t){return!!document.querySelector(t)},create:ot,classPrefix:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length?arguments[1]:void 0;X.push(t),"function"==typeof e&&(e($),$())},clearClassPrefix:$,checkDom:nt,reportStyle:J,addCommonStyle:function t(e,n){if("object"===a(e))for(var o in e)t(o,e[o]);else void 0===V[e]?V[e]=n:console.warn("addCommonStyle 存在重名变量：".concat(e))},initStylePool:function(){for(var t in i)J({func:i[t],id:t});i={}},registTouchEvent:function(t){var e,n=t.el,o=t.touchStart,r=void 0===o?it:o,i=void 0===(o=t.touchMove)?it:o,a=void 0===(o=t.touchEnd)?it:o;/Android|iPad|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)?l.query(n).on({touchstart:r,touchmove:i,touchend:a}):(e=!1,l.query(n).on({mousedown:function(t){e=!0,r(at(t,"touchstart"))}}),l.query(document.body).on({mousemove:function(t){t.preventDefault(),e&&i(at(t,"touchmove"))},mouseup:function(t){e&&(e=!1,a(at(t,"touchend")))}}))},mouseToTouchEvent:at,windowSize:function(){return st?{width:st.width,height:st.height}:(!0===(0<arguments.length&&void 0!==arguments[0]&&arguments[0])||!1!==ut()?function(){return{width:window.innerWidth,height:window.innerHeight}}:function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}})()},isMobile:ut,version:"0.1.4",setWindowSize:function(t){st=t},dom:e,collectRef:Z},t=l,A=t;function ft(t,e){A.reportStyle({func:t,id:1<arguments.length&&void 0!==e?e:"TACL-UI",pool:!0})}function dt(t){t.addClass("tacl-ui")}function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}A.addCommonStyle({common:{},piece:{mask:"\n        position:fixed;\n        z-index:10000;\n        background-color:rgba(0,0,0,0);\n        width:100%;\n        height:100%;\n        top:0;\n        left:0;\n        font-size:16px;\n        transition:background-color .3s ease;\n    ",centerWrapper:"\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n        padding: 10px;\n        background-color: rgba(0,0,0,.6);\n        border-radius: 5px;\n        text-align: center;\n        max-width: 50%;\n        color:#fff;\n    ",overScroll:"\n        word-break: break-all;\n        max-height: 300px;\n        overflow: auto;\n        margin: 10px 0;\n    "}}),ft(function(){return'\n        .tacl-ui{\n            font-size:15px;\n            color:#222;\n            font-family:"Microsoft YaHei";\n            margin:0;\n            padding:0;\n        }\n        .tacl-ui,.tacl-ui *{\n            box-sizing: border-box;\n        }'});var n,T,vt,mt="g-loading-",gt={el:null,timer:null,lastParent:null,onhide:null,onopen:null},s=(ft(function(t){return"\n    .g-loading-mask{\n        ".concat(t.piece.mask,";\n        background-color:transparent;\n    }\n    .g-loading-wrapper {\n        ").concat(t.piece.centerWrapper,"\n        opacity:0;\n        transition:opacity .3s ease;\n        padding: 10px 12px;\n    }\n    .g-loading-wrapper.g-loading-open {\n        opacity:1;\n    }\n    .g-loading-circular {\n        width:42px;\n        height:42px;\n        animation:g-loading-rotate 2s linear infinite;\n    }\n    .g-loading-text {\n        ").concat(t.piece.overScroll,"\n        margin: 0;\n    }\n    .g-loading-path {\n        animation:g-loading-dash 1.5s ease-in-out infinite;\n        stroke-dasharray:90 120;\n        stroke-dashoffset:0;\n        stroke-width:4;\n        stroke:#fff;\n        stroke-linecap:round;\n    }\n    @keyframes g-loading-dash {\n        0% {\n        stroke-dasharray:1 200;\n        stroke-dashoffset:0;\n    }\n    50% {\n        stroke-dasharray:90 150;\n        stroke-dashoffset:-40px;\n    }\n    100% {\n        stroke-dasharray:90 150;\n        stroke-dashoffset:-120px;\n    }\n    }@keyframes g-loading-rotate {\n        to {\n        transform:rotate(1turn);\n    }\n    }")}),function(t,e){var n,o,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:gt;r.onhide&&r.onhide(),r.onhide=null,r.onopen=null,"object"===ht(t)&&(n=t.parent,e=t.time,t.onhide&&(r.onhide=t.onhide),t.onopen&&(r.onopen=t.onopen),o=t.backgroundOpacity,t=t.text||""),function(t,e,n){var o,r,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document.body,a=4<arguments.length?arguments[4]:void 0,i=A.query(i);n.el?i.el!==n.lastParent.el&&(n.lastParent=i).append(n.el.mask):(n.el={},n.lastParent=i,A.classPrefix(mt),o=A.create().class("mask"),r=A.create().class("wrapper").html('\n<svg class="g-loading-circular" viewBox="0 0 50 50">\n    <circle class="g-loading-path" cx="25" cy="25" r="20" fill="none"></circle>\n</svg>'),n.el.text=A.create().class("text"),r.append(n.el.text),A.clearClassPrefix(),dt(o),i.append(o.append(r)),n.el.mask=o,n.el.wrapper=r),n.el.mask.style("backgroundColor",a?"rgba(0,0,0,".concat(a,")"):"transparent"),function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:gt,o="number"==typeof e;n.el.isOpen=!0,n.el.mask.style("display","block"),n.el.text.text(t),window.setTimeout(function(){n.onopen&&n.onopen(n.el.mask),n.el.wrapper.addClass("".concat(mt,"open"))},20),o&&(clearTimeout(n.timer),n.timer=setTimeout(function(){yt()},e))}(t,e,n)}(t,e,r,n,o)});function yt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:gt;t.el&&t.el.isOpen&&(t.el.isOpen=!1,t.el.wrapper.rmClass("".concat(mt,"open")),window.setTimeout(function(){t.onhide&&(t.onhide(),t.onhide=null),t!==gt?t.el.mask.remove():(t.el.mask.style("display","none"),t.el.text.text(""))},350))}s.create=function(t,e){var n={};return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:s)(t,e,n),function(){yt(n)}},s.close=yt,n={Default:"default",Yellow:"yellow",Yellow2:"yellow2"},(M=T=T||{}).Confirm="confirm",M.Alert="alert",M.Pop="pop",vt={Top:"top",Middle:"middle",Bottom:"bottom"};var c=Object.freeze({__proto__:null,get ConfirmStyle(){return n},get ConfirmType(){return T},get ToastPosition(){return vt}}),bt="g-toast-",xt={el:null,timer:null,lastParent:null,onhide:null,onopen:null},wt=(ft(function(t){return"\n    .g-toast-wrapper {\n        ".concat(t.piece.centerWrapper,"\n        ").concat(t.piece.overScroll,"\n        opacity:0;\n        transition:opacity .3s ease;\n        padding: 8px 10px;\n        z-index: 10000;\n        position: fixed;\n    }\n    .g-toast-wrapper.g-toast-bottom{\n        top: 90%;\n    }\n    .g-toast-wrapper.g-toast-top{\n        top: 8%;\n    }\n    .g-toast-wrapper.g-toast-bottom{\n        top: 90%;\n    }\n    .g-toast-wrapper.g-toast-open {\n        opacity:1;\n    }\n    .g-toast-wrapper.g-toast-has-close {\n        padding-right: 25px!important;\n    }\n    .g-toast-wrapper.g-toast-has-btn {\n        padding-right: 45px!important;\n    }\n    .g-toast-btn,.g-toast-close{\n        display: block;\n        position: absolute;\n        right: 5px;\n        top: 50%;\n        transform: translateY(-50%);\n        color: #aaa;\n        padding: 0 2px;\n        font-size: 16px;\n        cursor: pointer;\n    }\n    .g-toast-close:hover{\n        color: #f44;\n    }\n    .g-toast-btn{\n        color: #ddd;\n        text-decoration: underline;\n        font-size: 14px;\n    }\n    .g-toast-btn:hover{\n        color: #fff;\n    }")}),function(t,e){var n,o,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:xt,i=(r.onhide&&r.onhide(),r.onhide=null,r.onopen=null,!1),a=vt.Middle,l="",s=!1,c=null,t="object"===ht(t)?(c=t.button,s=null!=(n=t.showClose)&&n,e=t.time,t.position&&(a=t.position),n=t.parent,t.onhide&&(r.onhide=t.onhide),t.onopen&&(r.onopen=t.onopen),l=t.customClass||"","boolean"==typeof t.contentHtml&&(i=t.contentHtml),t.text||""):t,i=(r.customClass=l,t=void 0===(t=(l={text:t,time:e,position:a,parent:n,contentHtml:i,target:r,showClose:s,button:c}).text)?"":t,e=void 0===(e=l.time)?2e3:e,a=void 0===(a=l.position)?vt.Middle:a,i=void 0===(i=l.parent)?document.body:i,r=l.contentHtml,o=l.target,s=l.showClose,l=l.button,i=A.query(i),o.el?i.el!==o.lastParent.el&&(o.lastParent=i).append(o.el.wrapper):(o.el={},o.lastParent=i,A.classPrefix(bt),c=A.create().class("wrapper"),u=A.create().class("content"),d=A.create("span").class("close").text("✕").click(function(){kt(o)}),p=A.create("span").class("btn"),c.append([u,d,p]),A.clearClassPrefix(),dt(c),A.query(i).append(c),o.el.wrapper=c,o.el.content=u,o.el.close=d,o.el.btn=p),{text:t,time:e,position:a,contentHtml:r,target:o,showClose:s,button:l}),c=i.text,u=i.time,f=i.position,d=i.contentHtml,h=i.target,p=i.showClose,v=i.button,i="number"==typeof u,m=(h.el.isOpen=!0,h.el.wrapper.style("display","block"),"");h.el.close[p?"show":"hide"](),m+=p?" has-close":"",v?(m+=" has-btn",h.el.btn.text(v.text).show(),h.el.btn.el.onclick=function(){v.onclick()}):h.el.btn.hide(),A.classPrefix(bt,function(){h.el.wrapper.class("wrapper ".concat(f).concat(m))}),h.customClass&&h.el.wrapper.addClass(h.customClass,!1),void 0!==c&&(d?h.el.content.html(c):h.el.content.text(c)),window.setTimeout(function(){h.onopen&&h.onopen(h.el.wrapper),h.el.wrapper.addClass("".concat(bt,"open"))},20),i&&(clearTimeout(h.timer),h.timer=setTimeout(function(){kt(h)},u))});function kt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:xt;return!(!t.el||!t.el.isOpen||(t.el.isOpen=!1,t.el.wrapper.rmClass("".concat(bt,"open")),window.setTimeout(function(){t.onhide&&(t.onhide(),t.onhide=null),t!==xt?t.el.wrapper.remove():t.el.wrapper.style("display","none")},350),0))}wt.create=function(t,e){var n={};return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:wt)(t,e,n),function(){kt(n)}},wt.close=kt,ft(function(t){return"\n        .g-confirm-mask {\n            ".concat(t.piece.mask,"\n        }\n        .g-confirm-mask.g-confirm-open {\n            background-color:rgba(0,0,0,.4);\n        }\n        .g-confirm-box {\n            width:80%;\n            background-color:#fff;\n            position:absolute;\n            left:50%;\n            transform:translate(-50%,-50%);\n            border-radius:3px;\n            box-sizing:border-box;\n            opacity:0;\n            top:55%;\n            transition:all .3s ease;\n            max-width: 320px;\n        }\n        .g-confirm-mask.g-confirm-open .g-confirm-box {\n            opacity:1;\n            top:50%;\n        }\n        .g-confirm-title {\n            font-size:18px;\n            text-align:center;\n            font-weight:bold;\n            margin-top:15px;\n        }\n        .g-confirm-content {\n            padding:15px;\n            font-size:18px;\n            line-height:25px;\n            text-align:center;\n            color:#888;\n            ").concat(t.piece.overScroll,"\n        }\n        .g-confirm-content::-webkit-scrollbar {\n            width:5px;\n            cursor: pointer;\n            height: 5px;\n        }\n        .g-confirm-content::-webkit-scrollbar-button    {\n            display: none;\n        }\n        .g-confirm-content::-webkit-scrollbar-track     {\n            display: none;\n        }\n        .g-confirm-content::-webkit-scrollbar-track-piece {\n            background-color:#88888811;\n        }\n        .g-confirm-content::-webkit-scrollbar-thumb{\n            background-color: #666;\n            border-radius: 3px;\n            cursor: pointer;\n        }\n        .g-confirm-content::-webkit-scrollbar-thumb:hover{\n            background-color:#aaa;\n            cursor: pointer;\n        }\n        .g-confirm-btn-w {\n            display:flex;\n            border-top:1px solid #eee;\n            justify-content: center;\n        }\n        .g-confirm-btn {\n            flex:1;\n            text-align:center;\n            padding:12px;\n            cursor:pointer;\n        }\n        .g-confirm-btn{\n            border-right:1px solid #eee;\n        }\n        .g-confirm-confirm {\n            color:#5185d5;\n            border-right:none;\n        }\n        .g-confirm-close{\n            position: absolute;\n            right: 10px;\n            top: 6px;\n            font-size: 17px;\n            color: #888;\n            cursor: pointer;\n        }\n        .g-confirm-box.g-confirm-yellow, .g-confirm-box.g-confirm-gamer{\n            padding: 20px;\n            width: 90%;\n        }\n        .g-confirm-yellow .g-confirm-btn-w, .g-confirm-gamer .g-confirm-btn-w{\n            border: none;\n        }\n        .g-confirm-yellow .g-confirm-btn, .g-confirm-gamer .g-confirm-btn{\n            border: 1px solid #bbb;\n            color: #bbb;\n            padding: 6px;\n            margin: 0 20px;\n            border-radius: 20px;\n            max-width: 120px;\n        }\n        .g-confirm-yellow .g-confirm-confirm{\n            border: 1px solid rgb(255,223,83);\n            background-color: rgb(255,223,83);\n            color: #555;\n        }\n        .g-confirm-box.g-confirm-gamer{\n            background-image: linear-gradient(to bottom, #2c2c3e, #373d5a);\n            color: #fff;\n            border-radius: 5px;\n            border: 1px solid #535b82;\n        }\n        .g-confirm-gamer .g-confirm-btn-w{\n            border: none;\n        }\n        .g-confirm-gamer .g-confirm-btn{\n            color: #fff;\n            border: 1px solid #f97728;\n        }\n        .g-confirm-gamer .g-confirm-confirm{\n            border: none;\n            background-image: linear-gradient(to right, #e95a04, #f97728);\n        }\n        .g-confirm-gamer .g-confirm-close{\n            font-size: 20px;\n        }\n        .g-confirm-gamer .g-confirm-title{\n            display: none;\n        }\n        .g-confirm-gamer.g-confirm-type-pop .g-confirm-title{\n            display: block;\n        }\n        .g-confirm-gamer .g-confirm-content{\n            padding: 30px 15px;\n            color: #fff;\n        }")});var E="g-confirm-",Ct={el:null,onhide:null,onopen:null,lastParent:null,lastCustomed:!1,_isDefault:!0};var O=function(k){var C=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",S=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Ct;return S.onhide&&S.onhide(),S.onhide=null,S.onopen=null,new Promise(function(t,e){try{g=k,y=C,b=t;var n,o,r,i,a,l,s,c,u=x=S,f=(u.lastCustomed&&u.el&&(u.el.mask.remove(),u.el=null,u.lastCustomed=!1),w=function(t,e){return(t="string"==typeof t?{title:e,text:t}:t).type===T.Confirm&&(t.theme||(t.theme=O.theme),O.onOptions&&(t=O.onOptions(t))),Object.assign({},St,t)}(g,y),x),d=w,h=A.query("object"===ht(d)&&d.parent?d.parent:document.body),p=(f.el?h.el!==f.lastParent.el&&(f.lastParent=h).append(f.el.mask):(f.el={},f.lastParent=h,A.classPrefix(E),n=A.create().class("mask"),o=A.create().class("box"),r=A.create().class("title"),i=A.create().class("content"),a=A.create().class("btn-w"),l=A.create().class("btn"),s=A.create().class("btn confirm"),c=A.create().class("close").text("✕"),A.clearClassPrefix(),dt(n),h.append(n.append(o.append(r,i,a.append(l,s),c))),f.el.box=o,f.el.title=r,f.el.content=i,f.el.btnCancel=l,f.el.btnConfirm=s,f.el.btnClose=c,f.el.mask=n),f.onopen=d.onopen||null,f.onhide=d.onhide||null,d.onGetCloseMethod&&d.onGetCloseMethod(function(){At(f)}),x.el.box.class("".concat(E,"box ").concat(E,"type-").concat(w.type)),x.el.title.text(w.title),x),v=w,m=(p.el.content.empty(),v.customEl?(p.lastCustomed=!0,"string"==typeof v.customEl?p.el.content.html(v.customEl):p.el.content.append(A.query(v.customEl))):p.el.content[v.contentHtml?"html":"text"](v.text||""),w.customClass&&(x.lastCustomed=!0,x.el.box.addClass(w.customClass)),x.el.btnConfirm.text(w.confirmText),x.el.btnCancel.text(w.cancelText),x.el.btnCancel.style("display",w.cancelBtn?"block":"none"),x.el.btnConfirm.style("display",w.confirmBtn?"block":"none"),x.el.btnClose.style("display",w.closeBtn?"block":"none"),x.el.btnCancel.el.onclick=function(){b("cancel"),w.clickCancelClose&&At(x),w.oncancel&&w.oncancel()},x.el.btnConfirm.el.onclick=function(){b("confirm"),w.clickConfirmClose&&At(x),w.onconfirm&&w.onconfirm()},x.el.btnClose.el.onclick=function(){b("close"),At(x)},x.el.box.addClass("".concat(E).concat(w.theme)),w.custom&&(x.lastCustomed=!0,w.custom(x.el.box,A)),x);m.el.isOpen=!0,m.el.mask.style("display","block"),window.setTimeout(function(){var t;m.el.mask.addClass("".concat(E,"open")),m.onopen&&(t=m.onopen,m.onopen=null,t(m.el.mask))},20)}catch(t){e(t)}var g,y,b,x,w})};O.create=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:O)(t,e,{})},O.close=At,O.theme=n.Default;var St={title:"提示框",text:"是否确认该操作",confirmText:"确定",cancelText:"取消",cancelBtn:!(O.onOptions=void 0),confirmBtn:!0,closeBtn:!0,theme:n.Default,customClass:"",customEl:"",contentHtml:!1,custom:void 0,type:T.Confirm,onGetCloseMethod:void 0,clickConfirmClose:!0,clickCancelClose:!0,onconfirm:void 0,oncancel:void 0};function At(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ct;return!(!e.el||!e.el.isOpen||(e.el.isOpen=!1,e.el.mask.rmClass("".concat(E,"open")),window.setTimeout(function(){var t;e.onhide&&(t=e.onhide,e.onhide=null,t()),e._isDefault?e.el.mask.style("display","none"):e.el.mask.remove()},350),0))}var Tt={_isDefault:!0},u=function t(e,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Tt;return(e="string"==typeof e?{text:e,title:n}:e).cancelBtn=!1,e.type=T.Alert,e.theme||(e.theme=t.theme),t.onOptions&&(e=t.onOptions(e)),O(e,void 0,o)},Et=(u.theme=n.Default,u.create=function(t,e){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:u)(t,e,{})},u.close=function(){return O.close(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Tt)},{_isDefault:!(u.onOptions=void 0)}),f=function t(e,n){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Et;return(e="string"==typeof e||e instanceof HTMLElement||e instanceof r?{customEl:e,title:n}:e).type=T.Pop,e.theme||(e.theme=t.theme),t.onOptions&&(e=t.onOptions(e)),O(e,void 0,o)};f.theme=n.Default,f.create=function(t,e){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:f)(t,e,{})},f.close=function(){return O.close(0<arguments.length&&void 0!==arguments[0]?arguments[0]:Et)},f.onOptions=void 0,ft(function(){return"\n    .g-drag-wrapper {\n        position: fixed;\n        z-index: 100;\n        box-sizing: border-box;\n        width: auto;\n        height: auto;\n        cursor: pointer;\n    }"});function Ot(){}M=_t,(C=[{key:"touchActiveInit",value:function(t){var e=this,n=(this.el.style({left:"auto",top:"auto",zIndex:t}),!1);A.registTouchEvent({el:this.el,touchStart:function(t){e.touchStart(t),n=!0},touchMove:function(t){n&&e.touchMove(t)},touchEnd:function(t){n&&(e.touchEnd(t),n=!1)}}),/Macintosh/i.test(navigator.userAgent)&&"number"==typeof navigator.maxTouchPoints&&0<navigator.maxTouchPoints||/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)||(window.addEventListener("mousemove",function(t){n&&e.touchMove(A.mouseToTouchEvent(t,"touchmove"))}),window.addEventListener("mouseup",function(t){n&&(e.touchEnd(A.mouseToTouchEvent(t,"touchend")),n=!1)}))}},{key:"getParentSize",value:function(){return null===this.parent?A.windowSize():{width:this.parent.el.offsetWidth,height:this.parent.el.offsetHeight}}},{key:"initPosition",value:function(r,i){var a=this;setTimeout(function(){var t,e,n,o;i?a.setPosition(i.left,i.top):(n=a.getParentSize(),t=a.el.dom(),e=a.sideLeft?a.margin[3]:n.width-t.offsetWidth-a.margin[1],n=n.height-t.offsetHeight-a.margin[0],(r||a.top>n)&&(o=n),a.setPosition(e,o))},50)}},{key:"setPosition",value:function(t,e){this.left=t,this.el.style("left","".concat(this.left,"px")),void 0!==e&&(this.top=e,this.el.style("top","".concat(this.top,"px")))}},{key:"touchStart",value:function(t){this.preventDefault&&t.preventDefault(),this.disX=t.touches[0].clientX-this.el.dom().offsetLeft,this.disY=t.touches[0].clientY-this.el.dom().offsetTop,this.starX=t.touches[0].clientX,this.starY=t.touches[0].clientY,this.onDragStart.call(this,t,this.starX,this.starY)}},{key:"touchMove",value:function(t){var e=this.getParentSize(),n=(this.L=t.touches[0].clientX-this.disX,this.T=t.touches[0].clientY-this.disY,this.el.dom());this.L<0?this.L=0:this.L>e.width-n.offsetWidth&&(this.L=e.width-n.offsetWidth),this.T<0?this.T=0:this.T>e.height-n.offsetHeight&&(this.T=e.height-n.offsetHeight),this.moveX=this.L,this.moveY=this.T,this.enableDrag&&(this.setPosition(this.moveX,this.moveY),this.onDragMove.call(this,t,this.moveX,this.moveY))}},{key:"touchEnd",value:function(t){this.preventDefault&&t.preventDefault();var e=this.el.dom(),n=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY,r=(i=this.getParentSize()).width,i=i.height,a=e.offsetWidth,l=e.offsetHeight,s=Math.abs(this.starX-n)<2,c=Math.abs(this.starY-o)<2,s=(s&&c&&this.onClick.call(this,t,n,o),n<=r/2);n-=this.disX,o-=this.disY,this.aside&&(n=s?this.margin[3]:r-a-this.margin[1]),o<this.margin[0]?o=this.margin[0]:o>i-this.margin[2]-l&&(o=i-this.margin[2]-l),this.enableDrag&&(e.style.transition="all .2s ease",this.setPosition(n,o),this.aside&&this.sideLeft!==s&&(this.sideLeft=s,this.onSideChange.call(this,this.sideLeft)),setTimeout(function(){e.style.transition=""},200)),this.onDragEnd.call(this,t,n,o)}}])&&pt(M.prototype,C),Lt&&pt(M,Lt),Object.defineProperty(M,"prototype",{writable:!1});var jt=_t;function _t(t){function e(){0<d?window.setTimeout(function(){n.initPosition()},d):n.initPosition()}var n=this,o=t.el,r=t.parent,i=void 0===(i=t.enableDrag)||i,a=void 0===(a=t.onClick)?Ot:a,l=void 0===(l=t.onSideChange)?Ot:l,s=void 0===(s=t.onDragStart)?Ot:s,c=void 0===(c=t.onDragMove)?Ot:c,u=void 0===(u=t.onDragEnd)?Ot:u,f=void 0===(f=t.zIndex)?100:f,d=void 0===(h=t.delay)?0:h,h=void 0!==(h=t.aside)&&h,p=void 0===(p=t.preventDefault)||p,v=void 0!==(v=t.reinitPosition)&&v,m=void 0===(m=t.position)?null:m,t=void 0===(t=t.margin)?3:t;if(!(this instanceof _t))throw new TypeError("Cannot call a class as a function");this.sideLeft=!1,this.el=A.create().class("".concat("g-drag-","wrapper")),this.el.el.appendChild(g(o).el),this.parent=null,r?(r=A.query(r),this.el.style("position","absolute"),this.parent=r):r=A.query(document.body),r.append(this.el),this.margin="number"==typeof t?new Array(4).fill(t):t,this.preventDefault=p,this.disX,this.disY,this.moveX,this.moveY,this.L,this.T,this.starX,this.starY,this.startTime,this.left="auto",this.top="auto",this.enableDrag=i,this.onClick=a,this.onSideChange=l,this.sideLeft=!1,this.aside=h,this.onDragStart=s,this.onDragMove=c,this.onDragEnd=u,this.touchActiveInit(f),this.initPosition(!0,m),!0===v&&(window.addEventListener("orientationchange",e,!1),window.addEventListener("resize",e,!1))}function Pt(t){return new jt(t)}var h;A.initStylePool(),Object.assign({tool:t,loading:s,toast:wt,confirm:O,alert:u,pop:f,drag:Pt,version:"0.1.4"},c),(C=h=h||{})[C.Hidden=0]="Hidden",C[C.Shown=1]="Shown",C[C.Flag=2]="Flag",C[C.Unsure=3]="Unsure";var Mt=2,p=-1,zt=0,Lt=function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this,n=o;if(!(e instanceof n))throw new TypeError("Cannot call a class as a function");this.data=[],this.gameData=[],this.minesList=[],this.dpr=window.devicePixelRatio,this.fontSize=14,this.flagCount=0,this.isOver=!1,this.initDom(),this.config(t,!1),this.initMapData(),this.renderMap(),window.map=this}var t,e,n;return t=o,(e=[{key:"initDom",value:function(){var a,l=this,s=(this.canvas=document.createElement("canvas"),this.canvas.style.border="1px solid #ccc",-1);this.canvas.addEventListener("mouseup",function(t){var e,n,o,r,i;l.isOver||(e=t.button,n=t.offsetX,t=t.offsetY,0!==e&&2!==e||(clearTimeout(a),o=0===e?h.Shown:h.Flag,e+s===2&&(o=h.Unsure),r=Math.floor(n/l.options.tileSize),i=Math.floor(t/l.options.tileSize),s=e,a=setTimeout(function(){s=-1,l.onClick(o,r,i)},50)))}),this.canvas.addEventListener("contextmenu",function(t){return t.preventDefault(),!1})}},{key:"config",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.width,e=void 0===e?20:e,n=t.height,n=void 0===n?20:n,o=t.tileSize,o=void 0===o?20:o,r=t.minesCount,r=void 0===r?40:r,t=t.container,t=void 0===t?document.body:t,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(e*n<=r)throw new Error("Too many mines");this.options={width:e,height:n,tileSize:o,minesCount:r,container:"string"==typeof t?document.querySelector(t):t},this.initSize(),i&&this.reset()}},{key:"reset",value:function(){this.isOver=!1,this.initMapData(),this.renderMap()}},{key:"initSize",value:function(){var t=this.options,e=t.width,n=t.height,o=t.tileSize,t=t.container,e=e*o,n=n*o,e=(this.canvas.width=e*this.dpr,this.canvas.height=n*this.dpr,this.canvas.style.width="".concat(e,"px"),this.canvas.style.height="".concat(n,"px"),this.canvas.parentElement!==t&&(t.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.ctx.strokeStyle="#444",this.ctx.fillStyle="#444"),this.ctx.textBaseline="top",this.ctx.font="".concat(this.fontSize*this.dpr,"px Monospace"),this.ctx.measureText("0")),n=o*this.dpr;this.Size={TileLeft:(n-e.width)/2,TileTop:(n-e.actualBoundingBoxDescent)/2,TileSize:n}}},{key:"onClick",value:function(t,e,n){var o=this,r=this.gameData[n][e],i=r;switch(r){case h.Hidden:case h.Unsure:i=t;break;case h.Flag:t===h.Flag?(i=h.Hidden,this.updateFlag(!1)):t===h.Unsure&&(i=h.Unsure);break;case h.Shown:this.showAllAround(e,n)}i!==r&&((this.gameData[n][e]=i)===h.Shown?(r=this.data[n][e])===p?this.gameOver():r===zt&&this.traverseMap({x:e,y:n,corner:!0,keepGoing:function(t,e,n){return 0<=n&&(o.gameData[e][t]===h.Flag&&o.updateFlag(!1),o.gameData[e][t]=h.Shown,0===n)},next:function(){}}):i===h.Flag&&this.updateFlag(),this.renderMap())}},{key:"showAllAround",value:function(t,e){var n=this;this.traverseTileAround(t,e,function(t,e){n.gameData[e][t]===h.Hidden&&n.onClick(h.Shown,t,e)})}},{key:"updateFlag",value:function(){!(0<arguments.length&&void 0!==arguments[0])||arguments[0]?this.flagCount++:this.flagCount--,this.checkWin()}},{key:"gameOver",value:function(){for(var e=this,t=this.options,n=t.width,o=t.height,r=0;r<n;r++)for(var i=0;i<o;i++)this.data[i][r]===p&&(this.gameData[i][r]=h.Shown);this.renderMap(),O({title:"Tips",text:"Game Over!",confirmText:"Try Again",cancelText:"OK"}).then(function(t){"confirm"===t&&e.reset()}),this.isOver=!0}},{key:"checkWin",value:function(){var e=this;if(this.flagCount!==this.options.minesCount)return!1;var t,n=function(t,e){var n,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=H(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{i||null==o.return||o.return()}finally{if(a)throw r}}}}(this.minesList);try{for(n.s();!(t=n.n()).done;){var o=t.value,r=o.x,i=o.y;if(this.gameData[i][r]!==h.Flag)return!1}}catch(t){n.e(t)}finally{n.f()}O({title:"Tips",text:"You Win!",confirmText:"Try Again",cancelText:"OK"}).then(function(t){"confirm"===t&&e.reset()});for(var a=this.options,l=a.width,s=a.height,c=0;c<l;c++)for(var u=0;u<s;u++)this.gameData[u][c]=h.Shown;return!0}},{key:"initMapData",value:function(){var o=this,t=this.options,e=t.width,n=t.height,r=t.minesCount;this.flagCount=0,this.data=[],this.gameData=[];for(var i=0;i<n;i++)this.data.push(new Array(e).fill(Mt)),this.gameData.push(new Array(e).fill(h.Hidden));var a=new Set;for(this.minesList=[];this.minesList.length<r;){for(var l=void 0,s=void 0,c=void 0;s=Y(0,e-1),c=Y(0,n-1),l="".concat(s,"-").concat(c),a.has(l););a.add(l),this.minesList.push({x:s,y:c}),this.data[c][s]=p}this.traverseMap(Object.assign(Object.assign({},this.minesList[0]),{keepGoing:function(){return!0},next:function(t,e,n){n!==p&&(n=o.countAroundMines(t,e),o.data[e][t]=n)}}))}},{key:"renderMap",value:function(){var t=this.options,e=t.width,n=t.height,o=this.Size.TileSize;this.ctx.clearRect(0,0,e*o,n*o);for(var r=0;r<e;r++)for(var i=0;i<n;i++)this.renderTile(r,i);this.ctx.beginPath();for(var a=1;a<e;a++)this.ctx.moveTo(a*o,0),this.ctx.lineTo(a*o,n*o);for(var l=1;l<n;l++)this.ctx.moveTo(0,l*o),this.ctx.lineTo(e*o,l*o);this.ctx.closePath(),this.ctx.stroke()}},{key:"renderTile",value:function(t,e){function n(){o.ctx.fillStyle="#ddd",o.ctx.fillRect(s,c,l,l)}var o=this,r=this.Size,i=r.TileLeft,a=r.TileTop,l=r.TileSize,r=this.gameData[e][t],s=t*l,c=e*l;switch(r){case h.Hidden:n();break;case h.Flag:n();var u=l/8;[[2,7],[2,1],[7,3],[2,5]].forEach(function(t,e){var t=N(t,2),n=t[0],t=t[1],n=s+n*u,t=c+t*u;0===e?o.ctx.moveTo(n,t):o.ctx.lineTo(n,t)}),this.ctx.fillStyle="#f44",this.ctx.stroke(),this.ctx.fill();break;case h.Unsure:n(),this.ctx.fillStyle="#444",this.ctx.fillText("?",s+i,c+a);break;case h.Shown:var f,d=this.data[e][t];if(0===d)return;d===p?(this.ctx.moveTo(s+3*(f=l/4),c+2*f),this.ctx.arc(s+l/2,c+l/2,f,0,2*Math.PI),this.ctx.fillStyle="#e44",this.ctx.fill()):(this.ctx.fillStyle="#444",this.ctx.fillText("".concat(-1===d?"B":d),s+i,c+a))}}},{key:"traverseMap",value:function(t){for(var e=t.x,n=t.y,o=t.keepGoing,r=t.next,t=t.corner,i=void 0!==t&&t,a=[{x:e,y:n}],l=new Set;;){var s=a.shift();if(!s)break;var c,u=s.x,s=s.y;l.has("".concat(u,"-").concat(s))||this.outOfMap(u,s)||(l.add("".concat(u,"-").concat(s)),o(u,s,this.data[s][u])&&(c=[{x:u,y:s-1},{x:u,y:s+1},{x:u-1,y:s},{x:u+1,y:s}],i&&c.push({x:u-1,y:s-1},{x:u-1,y:s+1},{x:u+1,y:s-1},{x:u+1,y:s+1}),a.push.apply(a,c),r(u,s,this.data[s][u])))}}},{key:"outOfMap",value:function(t,e){var n=this.options,o=n.width,n=n.height;return t<0||o<=t||e<0||n<=e}},{key:"countAroundMines",value:function(t,e){var n=this,o=0;return this.traverseTileAround(t,e,function(t,e){n.data[e][t]===p&&o++}),o}},{key:"traverseTileAround",value:function(t,e,n){for(var o=t-1;o<=t+1;o++)for(var r=e-1;r<=e+1;r++)this.outOfMap(o,r)||n(o,r)}}])&&I(t.prototype,e),n&&I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}();function v(t,e){for(var n="",o=0;o<t.length-1;o++)n+="".concat(t[o]).concat("function"==typeof e?e(o):e[o]);return n+t[t.length-1]}function Dt(t){return t instanceof Array&&t.raw instanceof Array}function It(t,e){return-1===(e=t.indexOf(e))?[t,""]:[t.substring(0,e).trim(),t.substring(e+1).trim()]}M=navigator.userAgent,/Safari/.test(M)&&/Chrome/.test(M);var m=Symbol("sub"),y=Symbol("fu"),Nt=Symbol("i"),Ht=Symbol("v"),S=Symbol("rv"),Rt=Symbol("l"),j=Symbol("j"),Yt=Symbol("rpv");function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function Bt(t){return function(t){if(Array.isArray(t))return Ft(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var Xt=/\$\$\d+\$\$/,$t=/\$\$\d+\$\$/g,Wt=[],Ut={};function Gt(t){if(Wt[t])return Wt[t];var e="$$".concat(t,"$$");return Wt[t]=e,Ut[e]=t,e}function Vt(t){return Ut[t]||parseInt(t.replace(/\$\$/g,""))}function Jt(t){return(t=t.match($t))||null}function Zt(t,e){var n=1<arguments.length&&void 0!==e?e:0;return v(t,function(t){return Gt(t+n)})}function b(t,e,o,n){var r=3<arguments.length&&void 0!==n&&n,n=t instanceof Array;if(0<e.length){var i,a,l=n?function(t){if(t<=0)return[];for(var e=[],n=0;n<t;n++)e.push(Gt(n));return e}(e.length):Jt(t);if(l)return i=n?t:t.split(Xt),a=l.map(function(t,n){return t=Vt(t),w(e[t])[m](function(t){var e=r?v(i,a):"",t=(a[n]=t,v(i,a));o(t,e)})}),v(i,a)}return n?t.join(""):t}var x={add:null},Kt=function(t){var e,n,o,r,i=(a="function"==typeof t)?t:t.get,a=a?null:t.set,l=[],t=(x.add=function(t){l.push(t)},i()),s=(x.add=null,e=i,n=a,o=t,r=[],d(i={type:"reaction",isUndefined:function(){return void 0===o},get value(){var t;return null!=(t=x.add)&&t.call(x,this),o=e()},set value(t){n?n(t,this.value):console.warn("对只读computed设置值无效")}},Yt,function(t){t!==o&&n&&n(t,o)}),d(i,m,function(t){return r.push(t),o}),d(i,y,function(){var e=o,n=this.value;r.forEach(function(t){t(n,e)})}),d(i,S,ae(o)),d(i,Rt,function(){return r}),d(i,"toJSON",function(){return o}),i);return l.forEach(function(o){return o[m](function(t,e,n){o[Yt](t),s[y](e,n)})}),s};function Qt(t,e){var n,e=1<arguments.length&&void 0!==e?e:"computed";return t.isEmpty()?null:(n=t.exe({type:e}),Kt(function(){return ie(n)}))}function te(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],k=t;if("object"===qt(k)){for(var e in k){if("toJSON"===e)break;k[e]=ue(k[e])}Array.isArray(k)&&(k._length=re(k.length))}function C(t,e,n){for(var o=0;o<r.length;o++)r[o](t,e,n)}return Object.assign(k,(d(t={},m,function(t){return r.push(t),k}),d(t,y,function(){C(k,0<arguments.length&&void 0!==arguments[0]?arguments[0]:k,1<arguments.length?arguments[1]:void 0)}),d(t,S,!1),d(t,Rt,function(){return r}),d(t,j,function(){return ce(k)}),t)),new Proxy(k,{get:function(t,e,n){var o;if(e===Ht)return ce(k);var r=qt(k[e]);return Array.isArray(t)?"length"===e&&null!=(o=x.add)&&o.call(x,k._length):"length"!==e&&"function"!==r||"undefined"===r&&"toJSON"!==e&&(k[e]=oe("",!0)),Reflect.get(t,e,n)},set:function(t,e,n,o){function r(){return a&&!l&&/^\d+$/.test(e)?parseInt(e):-1}function i(){return Reflect.set(t,e,n,o)}var a=t instanceof Array,l="symbol"===qt(e);if(a){if("length"===e)return c=i(),k._length.value=n,c;if(-1!==(c=t.indexOf(n)))return s=r(),C(n,t[s],s),t[c]=void 0,i()}if(l){if(e!==Ht)return e===j?(console.warn("json symbol 属性不可设置"),!0):i();var s=k[j]();if(a){for(var c=k.length,u=void 0===n?0:n.length,f=0;f<u;f++){var d=t[f],h=ue(n[f]);h[Nt]=oe(f),d&&le(d,h,f),C(h,d,f),t[f]=h}if(t.length>u)for(var p=t.splice(u,t.length-u),v=0;v<p.length;v++)C(void 0,p[v],v+u);c!==u&&(k._length.value=u)}else{var m,g,y=void 0===(n=se(n)?n[j]():n);for(m in t)!y&&m in n||(g=t[m],delete t[m],g[g[S]?"value":Ht]=void 0,C(void 0,g));if(!y)for(var b in n){var x=t[b],w=ue(n[b]);le(x,w),t[b]=w}}return C(k[j](),s),!0}return c=t[e],se(n)?C(n,c):void 0===c?C(n=ue(n),c,r()):c[S]?(t=c,e="value"):(n=ue(n),a?(s=r(),C(n,t[s],s)):le(c,n)),i()},deleteProperty:function(t,e){var n;return t instanceof Array?C(void 0,t[n="string"==typeof e&&/^\d+$/.test(e)?parseInt(e):-1],n):C(void 0,t[e]),Reflect.deleteProperty(t,e)}})}function ee(t){var n=t.template,e=t.reactions;return{templateValue:function(){return n.join("")},isEmpty:function(){return 0===e.length},exe:function(t){return{template:n,reactions:e,context:t}},modTemplate:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n.length-1;n[e]=t(n[e])},type:"react"}}function ne(t){if(ae(t))return oe(t);if("object"===qt(t))return te(t);throw new Error("createReactive error")}function oe(o){var t,e,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=[],n={type:"reaction",isUndefined:function(){return void 0===o||r},get value(){var t;return null!=(t=x.add)&&t.call(x,this),o}},a=(d(n,Yt,function(t){t!==o&&(o=t)}),(t={})["value"]=t.value||{},t.value.set=function(e){var n;e!==o&&(r=r&&!1,e instanceof Array&&(e=e.join("\n")),n=o,o=e,i.forEach(function(t){t(e,n)}))},d(n,S,!0),d(n,m,function(t){return i.push(t),this.value}),d(n,y,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:o,n=1<arguments.length?arguments[1]:void 0;i.forEach(function(t){t(o,e,n)})}),d(n,"toJSON",function(){return r?void 0:this.value}),d(n,Rt,function(){return i}),d(n,j,function(){return o}),n),l=t;for(e in l)(u=l[e]).configurable=u.enumerable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,e,u);if(Object.getOwnPropertySymbols)for(var s=Object.getOwnPropertySymbols(l),c=0;c<s.length;c++){var u,f=s[c];(u=l[f]).configurable=u.enumerable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,f,u)}return n}function re(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];for(var r=n,i=0;i<r.length;i++){var a=r[i];"style"===a.type&&(r[i]=a.react())}return Dt(t)?ee({template:t,reactions:n}):"string"==typeof t&&0<n.length?ee(function(t,e){for(var n=[t],o=!0,r=0;r<e.length;r++){var i=e[r],a="string"==typeof i;a&&(o?n[n.length-1]+=i:n.push(i),e.splice(r,1),r--),o||a||n.push(""),o=a}return o||n.push(""),{template:n,reactions:e}}(t,n)):ne(t)}function w(t){return"function"==typeof t?Kt(t):t}function ie(t){return v(t.template,t.reactions.map(function(t){return"function"==typeof(t=t)?t():t.value}))}function ae(t){return"object"!==qt(t)||null===t}function le(t,e,n){if(void 0!==t&&"function"!=typeof e){if(!0!==e[S]){var o,r=Object.keys(e),i=t;for(o in t){var a=i[o],l=r.indexOf(o);-1!==l?(le(a,e[o],l),r.splice(l,1)):delete i[o]}for(var s=0;s<r.length;s++){var c=r[s];i[c]=ue(e[c])}}t?(u=e,f=n,0<(h=(t=t)[Rt]()).length&&((d=u[Rt]()).push.apply(d,Bt(h)),u[y](function(t){return t[Ht]||t.value}(t),f))):e[y](void 0,n)}var u,f,d,h}function se(t){return null!=t&&t[m]}function ce(t){return se(t)?JSON.parse(JSON.stringify(t)):t}function ue(t){return(ae(t=se(t)?t[j]:t)?oe:te)(t)}function fe(t,e){return"string"==typeof t||"number"==typeof t?t:"react"===t.type?function(t,e,n){return(n=Qt(t,2<arguments.length&&void 0!==n?n:"computed"))?n[m](e):t.templateValue()}(t,function(t){e(t)},"style"):w(t)[m](function(t){e(t)})}var k=re;function de(t){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function he(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){l=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return i}}(t,e)||ve(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(t){return function(t){if(Array.isArray(t))return me(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ve(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(t,e){if(t){if("string"==typeof t)return me(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?me(t,e):void 0}}function me(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function ge(t,e){var n,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=ve(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{i||null==o.return||o.return()}finally{if(a)throw r}}}}function ye(t){t.remove(),xe("removed",t)}function be(t,e,n){n&&(e[t="__alins_on_".concat(t)]||(e[t]=[]),e[t].push(n))}function xe(t,e){var n="__alins_on_".concat(t);e[n]&&(e[n].forEach(function(t){t(e)}),"mounted"===t&&(e[n]=null))}function we(t){xe("appended",t),xe("mounted",t)}function ke(t,e,n){var o=e instanceof DocumentFragment?Ce(e):null;t.insertBefore(e,n),o?o.forEach(we):we(e)}function Ce(t){return[].slice.call(t.children)}var Se={_mountedList:[],_inMounting:!1,mountStart:function(){this._inMounting=!0,this._mountedList=[]},collectMounted:function(t,e){this._inMounting?this._mountedList.push(function(){null!=e&&e.exe()(t)}):be("mounted",t,null==e?void 0:e.exe())},mountFinish:function(){this._mountedList.forEach(function(t){t()}),this._mountedList=[],this._inMounting=!1}};Ae="mounted";var Ae,Te=function(t){return{type:"life",name:Ae,exe:function(){return t}}};var Ee="./#[:";function Oe(t){return Ee.includes(t[0])?t:":".concat(t)}function je(t){if("/"!==t[0])return"";for(var e=1;e<t.length;e++)if(".#[:".includes(t[e]))return t.substring(1,e);return t.substring(1)}function _e(i){function a(t,e){s=e,c=t}function t(t,e){if("attributes"!==s||""===e){if(!s)return a(t,e);var n=i.substring(c+1,t);switch(s){case"className":l.className||(l.className=[]),l.className.push(n);break;case"id":l.id=n;break;case"attributes":l.attributes||(l.attributes={});var o=(r=he(It(n,"="),2))[0],r=r[1];l.attributes[o]=r;break;case"textContent":l.textContent+=n;break;case"tagName":l.tagName=n}a(t,e)}}for(var l={textContent:""},s=(i=Oe(i),""),c=0,e=i.length,n=0;n<e;n++)switch(i[n]){case".":t(n,"className");break;case"#":t(n,"id");break;case"[":t(n,"attributes");break;case"]":t(n,"");break;case"/":t(n,"tagName");break;case":":"textContent"!==s&&t(n,"textContent")}return t(i.length,""),l}function Pe(t,e){var n=e?"":"none";(t=t instanceof DocumentFragment?[].slice.call(t.children):t)instanceof Array?t.forEach(function(t){t.style.display=n}):t.style.display=n}var Me={for:function(c){var u=this;return function(o){function i(t,e){var n=ne(t),t=((e=void 0===e?c[t]:e)[Nt]=n,o(e,n));return Array.isArray(t)?t:[t]}for(var a=document.createComment(""),l=[],s=[],t=0;t<c.length;t++){var e=i(t);s.push(u.apply(null,e))}return c[m](function(t,e,n){var o,r;"number"==typeof n&&(-1!==(r=c.indexOf(t))?(o=l[n],l[n]=l[r],l[r]=o,t[Nt].value=n):void 0===t?(De(l[n]),l[n]=void 0):(r=u.apply(null,i(n,t)),l[n]||(t=(o=Le(r)).dom,r=o.children,l[n]=r,r=(o=l[n+1])instanceof Array?o[0]:o,ke(a.parentElement,t,r||a))))}),{exe:function(){var t,e=document.createDocumentFragment(),n=ge(s);try{for(n.s();!(t=n.n()).done;){var o=Le(t.value),r=o.dom,i=o.children;l.push(i),e.appendChild(r)}}catch(t){n.e(t)}finally{n.f()}return e.append(a),e},type:"for",mount:function(){P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)}}}},if:function(t){function r(t,e){e=1<arguments.length&&void 0!==e&&e,t=n.apply(null,t);e?l=t:s.push(t)}function i(t){var n=d.length;(t=w(t))[m](function(t){var e=null;t?(n<c||-1===c)&&(e=Le(s[c=n]).children):0<=c&&(e=f(c)),e&&o.forEach(function(t){return t(e)})}),d.push(t)}var n=this,o=[],a=document.createComment(""),l=null,s=[],c=0,u=[],e=function(t){if(!t)return a;var e=u[c];return e||(e=Le(t).children,u[c]=e)},f=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;t<d.length;t++)if(!0===d[t].value)return e(s[c=t]);return l?(c=d.length,e(l)):(c=-1,e())},d=[];return i(t),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r(e),{exe:function(){var e=f();return o.push(function(t){t!==e&&(Ie(e,t),e=t)}),Ne(e)},elif:function(t){var o=this;return i(t),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r(e),o}},else:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r(e,!0),this},type:"if",mount:function(){P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)}}}},show:function(t){var r=w(t),i=this;return function(){for(var t=arguments.length,o=new Array(t),e=0;e<t;e++)o[e]=arguments[e];return{exe:function(){var e=Le(i.apply(null,o)).children,t=r[m](function(t){Pe(e,t)}),n=Ne(e);return Pe(n,t),n},type:"show",mount:function(){P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)}}}},switch:function(t){function n(t){return(t=l.get(t)||l.get(r))?s.get(t)||(e=Le(t).children,s.set(t,e),e):a;var e}function i(t,e){t=o.apply(null,t),l.set(e,t)}var o=this,r=Symbol("def"),a=document.createComment(""),l=new Map,s=new Map,c=w(t);return{exe:function(){var e=n(c.value);return c[m](function(t){(t=n(t))!==e&&(Ie(e,t),e=t)}),Ne(e)},case:function(o){var r=this;return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(e,o),r}},default:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(e,r),this},type:"switch",mount:function(){P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)}}}},ze=Object.assign({model:function(t){for(var e=arguments.length,s=new Array(1<e?e-1:0),n=1;n<e;n++)s[n-1]=arguments[n];function o(){for(var t=arguments.length,l=new Array(t),e=0;e<t;e++)l[e]=arguments[e];return{exe:function(){function t(t){e=!0,0!==s.length&&(s.includes("number")?t=parseFloat(t):s.includes("camel")&&(t=t.toLowerCase())),c.value=t}var e=!1,n=Fe(u.apply(null,l)),o="true"===n.contentEditable,r=o?function(){return n.textContent||""}:function(){return n.value||""},i=o?function(t){n.textContent=t}:function(t){n.value=t},a=(i(c[m](function(t){e?e=!1:i(t)})),!1);return n.addEventListener("compositionstart",function(){a=!0}),n.addEventListener("compositionend",function(){a=!1,t(r())}),n.addEventListener("input",function(){a||t(r())}),"number"===n.getAttribute("type")&&s.push("number"),n},type:"model",mount:function(){P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this.exe())}}}var c=w(t),u=this;return o.exe=function(){return o().exe()},o.mount=function(){P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",o().exe())},o.type="model",o}},Me);function Le(t){var e="comp"===t.type;return{dom:t=e?$e(t.exe()):Fe(t),children:e?[].slice.call(t.children):t}}function De(t){t instanceof Array?t.forEach(function(t){ye(t)}):ye(t)}function Ie(t,e){var n=t instanceof Array?t[0]:t,o=n.parentElement;if(!o)throw new Error("parent not found");ke(o,Ne(e),n),De(t)}function Ne(t){var e;return t instanceof Array?(e=document.createDocumentFragment(),t.forEach(function(t){e.appendChild(t)}),e):t}function He(n){return{exe:function(e,t){return t?(e.value=fe(n,function(t){e.value=t+""})+"",null):this.exeTextNode()},exeTextNode:function(){var e=document.createTextNode(fe(n,function(t){e.textContent=t+""})+"");return e},type:"text"}}function Re(t,e){var n;e.className&&(t.className||(t.className=[]),(n=t.className).push.apply(n,pe(e.className))),e.attributes&&(t.attributes||(t.attributes={}),Object.assign(t.attributes,e.attributes)),e.id&&(t.id=e.id),e.textContent&&(t.textContent||(t.textContent=""),t.textContent+=e.textContent)}t=["a","div","h1","h2","h3","h4","h5","h6","button","canvas","code","pre","table","th","td","tr","video","audio","ol","select","option","p","i","iframe","img","input","label","ul","li","span","textarea","form","br","tbody"],c=[].concat(t,["abbr","article","aside","b","base","bdi","bdo","blockquote","caption","cite","del","details","dialog","em","embed","figure","footer","header","hr","menu","nav","noscript","object","progress","section","slot","small","strong","sub","summary","sup","template","title","var"]);function Ye(A){return Object.assign(function(){for(var e,t=arguments.length,S=new Array(t),n=0;n<t;n++)S[n]=arguments[n];return e=S,{exe:function(){for(var t,e,n,o,r,i,a,l,s,c,u,f,d,h=A,p=S,v={tag:h,children:[],event:[],binding:[],styles:[],pseudos:[],domInfo:{},lifes:{},textContent:""},m=v.children,g=v.binding,y=0;y<p.length;y++){var b=p[y];if("number"==typeof b)m.push(He(b));else if("string"==typeof b){var x=je(b);x&&(v.tag=x),(x=_e(Oe(b))).textContent&&(m.push(He(x.textContent)),delete x.textContent),Re(v.domInfo,x)}else if(b instanceof Array||b instanceof HTMLElement||b instanceof Text)m.push(b);else if("object"===de(b)&&b)switch(b.type){case"reaction":g.push({template:["",""],reactions:[b],context:{type:"dom-info"},index:m.length}),m.push(null);break;case"react":var w,k=b.exe({type:"dom-info"});"/"===k.template[0][0]&&(w=ie(k),v.tag=je(w)),k.index=m.length,g.push(k),m.push(null);break;case"builder":case"if":case"show":case"model":case"switch":case"for":case"comp":case"text":m.push(b);break;case"on":null!=(w=v.event)&&w.push(b);break;case"style":null!=(k=v.styles)&&k.push(b);break;case"pseudo":null!=(t=v.pseudos)&&t.push(b);break;case"life":v.lifes[b.name]=b;break;case"html":v.html=b;break;default:console.warn("unkonwn builder",b)}else if("function"==typeof b){var C=b();switch(C.type){case"builder":case"if":case"show":case"switch":case"for":case"comp":m.push(C);break;case"model":m.push(C.exe());break;default:C instanceof Array?p.splice.apply(p,[y,1].concat(pe(C))):p.splice(y,1,C),y--}}}return h=v.tag,e=v.className,n=v.id,o=v.textContent,r=v.attributes,i=v.children,a=v.binding,l=v.domInfo,s=v.event,c=v._if,u=v.styles,f=v.pseudos,d=v.lifes,{tag:void 0===h?"":h,className:void 0===e?[]:e,id:void 0===n?"":n,textContent:void 0===o?"":o,attributes:void 0===r?{}:r,children:void 0===i?[]:i,binding:void 0===a?[]:a,domInfo:void 0===l?{}:l,event:void 0===s?[]:s,_if:c,styles:void 0===u?[]:u,pseudos:void 0===f?[]:f,lifes:void 0===d?{}:d,html:v.html}},type:"builder",mount:function(){P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)},_asParent:function(t){e.push.apply(e,pe(t))}}},ze)}qe={},c.map(function(t){qe[t]=Ye(t)});var qe,Be=qe,C=he(t.map(function(t){return Be[t]}),34),_=(C[0],C[1]);function Fe(t){var e=t.exe(),n=document.createElement(e.tag),o=!1;e.html&&(o=!0,n.innerHTML=e.html.exe(function(t){n.innerHTML=t})+"");for(var r=0;r<e.binding.length;r++){var i=e.binding[r],a=function(t,r,e,i){var o,a=[],n=e.template,l=e.reactions,s=_e(v(n,Gt)),c={};if(s.textContent&&(t?console.warn("text is not supported in html or text builder"):(e=s.textContent,(o=Jt(e))?We(r)?r.value=b(e,l,function(t,e){r.value=t,null!=i&&i({node:r,type:"value",value:t,prevValue:e})},!1):e.split(Xt).forEach(function(t,e){var n;t&&a.push(document.createTextNode(t)),o[e]&&(t=Vt(o[e]),(e=l[t])&&(t=w(e),n=document.createTextNode(t[m](function(t,e){n.textContent=t,null!=i&&i({node:n,type:"text",value:t,prevValue:e})})),a.push(n)))}):a.push(He(e)))),s.className&&s.className.forEach(function(t){c.className||(c.className=[]),(t=b(t,l,function(t,e){e?t?r.classList.replace(e,t):r.classList.remove(e):r.classList.add(t),null!=i&&i({node:r,type:"className",value:t,prevValue:e})},!0))&&c.className.push(t)}),s.attributes)for(var u in s.attributes)!function(t){var n="",o=b(t,l,function(t,e){r.removeAttribute(e),r.setAttribute(t,n),o=t,null!=i&&i({node:r,key:o,type:"attribute-key",value:t,prevValue:e})},!0),n=b(s.attributes[t],l,function(t,e){r.setAttribute(o,t),n=t,null!=i&&i({node:r,key:o,type:"attribute-value",value:t,prevValue:e})});c.attributes||(c.attributes={}),c.attributes[o]=n}(u);return s.id&&(n=b(s.id,l,function(t,e){r.id=t,null!=i&&i({node:r,type:"id",value:t,prevValue:e})}),r.id=n),{domInfo:c,children:a}}(o,n,i,null==(a=e.lifes.updated)?void 0:a.exe()),l=a.domInfo;0<(a=a.children).length&&(e.children[null!=(i=i.index)?i:e.children.length]=a),Re(e,l)}if(e.domInfo&&Re(e,e.domInfo),e.textContent&&(c=n,u=e.textContent,We(c)?c.value=u:c.appendChild(document.createTextNode(u))),0<e.className.length&&(n.className=e.className.join(" ")),e.attributes)for(var s in e.attributes)n.setAttribute(s,e.attributes[s]);e.id&&(n.id=e.id),e.children&&0<e.children.length&&(o&&e.html?console.warn("children is not supported in html builder"):Xe(n,e.children));for(var c,u,f,d=0;d<e.event.length;d++)e.event[d].exe(n);return e.styles.forEach(function(t){return t.exe(n)}),e.pseudos.forEach(function(t){return t.exe(n)}),c=n,u=e.lifes,be("appended",c,null==(f=u.appended)?void 0:f.exe()),be("removed",c,null==(f=u.removed)?void 0:f.exe()),Se.collectMounted(n,e.lifes.mounted),null!=(t=e.lifes.created)&&t.exe()(n),n}function Xe(t,e){if(We(t)){var n,o=ge(e);try{for(o.s();!(n=o.n()).done;){var r=n.value;"text"===(null==r?void 0:r.type)&&r.exe(t,!0)}}catch(t){o.e(t)}finally{o.f()}}else{var i,a=document.createDocumentFragment(),l=ge(e);try{for(l.s();!(i=l.n()).done;){var s=i.value;a.appendChild($e(s))}}catch(t){l.e(t)}finally{l.f()}e=t,u=Ce(c=a),e.appendChild(c),u.forEach(we)}var c,u}function $e(t){var e=document.createDocumentFragment();if("function"==typeof t)return $e(t());if(t instanceof Array){var n,o=ge(t);try{for(o.s();!(n=o.n()).done;){var r=n.value;e.appendChild($e(r))}}catch(t){o.e(t)}finally{o.f()}}else if(t instanceof HTMLElement||t instanceof Text)e.appendChild(t);else if(t)switch(t.type){case"comp":e.appendChild($e(t.exe()));break;case"builder":e.appendChild(Fe(t));break;case"if":case"switch":case"for":case"show":case"model":e.appendChild(t.exe());break;case"text":e.appendChild(t.exeTextNode())}return e}function We(t){return void 0!==t.value&&"BUTTON"!==t.tagName}function P(t){"string"==typeof t&&(t=document.querySelector(t)||document.body);for(var e=arguments.length,n=new Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];if(t instanceof HTMLElement)Se.mountStart(),Xe(t,n),Se.mountFinish();else{if("builder"!==t.type&&"comp"!==t.type)throw new Error("Parent is illegal");t._asParent(n)}}function Ue(t){return{exe:function(e){return fe(t,function(t){e(t+"")})+""},type:"html"}}function Ge(r,i){var a=[];return{exe:function(){for(var t={props:{},events:{},slots:{}},e=0;e<i.length;e++){var n=i[e];if("function"==typeof n)i.push.apply(i,pe(n()));else if(n)switch(n.type){case"prop":t.props=n.exe();break;case"event":t.events=n.exe();break;case"slot":t.slots=n.exe()}}if(!r)throw new Error("Component not found");var o=r(t);return 0<a.length&&(o instanceof Array?o.push(a):o=[o,a]),o},type:"comp",mount:function(){P(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",this)},_asParent:function(t){a.push.apply(a,pe(t))}}}C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15],C[16],C[17],C[18],C[19],C[20],C[21],C[22],C[23],C[24],C[25],C[26],C[27],C[28],C[29],C[30],C[31],C[32],C[33];var Ve=Object.assign(function(o){return Object.assign(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ge(o,e)},Ge(o,[]),Me)},Me),M=["click","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","touchend","touchmove","touchstart","wheel","input","change"],c=[].concat(M,["fullscreenchange","fullscreenerror","copy","cut","paste","abort","auxclick","beforeinput","blur","canplay","canplaythrough","close","compositionend","compositionstart","compositionupdate","contextmenu","cuechange","dblclick","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","ended","error","focus","focusin","focusout","formdata","gotpointercapture","invalid","keydown","keypress","keyup","load","loadeddata","loadedmetadata","loadstart","lostpointercapture","mouseout","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointermove","pointerout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","select","selectionchange","selectstart","submit","suspend","timeupdate","toggle","touchcancel"]);function Je(i,a,e){var l=[];return{args:function(){return l.push.apply(l,arguments),this},exe:function(n){var o,r;0===e.length?a&&n.addEventListener(i,function(t){a.apply(n,[].concat(l,[t,n]))}):(r=(o=function(t){return e.includes(t)})("capture"),n.addEventListener(i,function t(e){o("self")&&e.target!==n||(o("stop")&&e.stopPropagation(),o("prevent")&&e.preventDefault(),a&&a.apply(n,[].concat(l,[e])),o("once")&&n.removeEventListener(i,t,r))},r))},type:"on",name:i}}Ze={},c.map(function(t){var r;Ze[t]=(r=t,Object.assign(function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return Je(r,t,n)},{prevent:Je(r,null,["prevent"]),stop:Je(r,null,["stop"])}))});var Ze,Ke=Ze,t=he(M.map(function(t){return Ke[t]}),13),Qe=t[0];function tn(t){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function en(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,r,i=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);a=!0);}catch(t){l=!0,r=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw r}}return i}}(t,e)||on(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nn(t){return function(t){if(Array.isArray(t))return rn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||on(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function on(t,e){if(t){if("string"==typeof t)return rn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rn(t,e):void 0}}function rn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function an(t,e){var n,o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=on(t))||e&&t&&"number"==typeof t.length)return o&&(t=o),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,a=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return i=t.done,t},e:function(t){a=!0,r=t},f:function(){try{i||null==o.return||o.return()}finally{if(a)throw r}}}}t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12];var ln,sn="undefined"!==window.document.adoptedStyleSheets&&!!window.CSSStyleSheet;function cn(t){var e;return t?un(t):sn?(e=new CSSStyleSheet,window.document.adoptedStyleSheets.push(e),function(t){e.replace(t)}):un(document.head)}function un(t){var e=document.createElement("style");return t.appendChild(e),function(t){e.textContent=t}}function fn(){return{cursorUrl:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o,r,i=e.map(function(t){return"string"==typeof(e=t)||"number"==typeof e?function(){return e}:"react"===e.type?function(){return ie(e.exe({type:"computed"}))}:e;var e});return{cursor:k(ln=ln||(o=["url('","'), ",""],r=r||o.slice(0),Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(r)}}))),i[0],i[1]||"default")}}}}var dn,hn,pn,vn,mn="i",gn="px",C=(dn={generate:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=z(this._result).generate(t);return 0!==this._styles.length&&this._styles.forEach(function(t){e.scopeTemplate+=Pn(t,e.scopeReactions)}),e},exe:function(e){return 0<this._styles.length&&this._styles.forEach(function(t){"string"==typeof t||"react"===t.type?z(t).exe(e):"style"===t.type?t.exe(e):"object"===tn(t)&&z(t).exe(e)}),z(this._result).exe(e)},join:function(){var t;return(t=this._styles).push.apply(t,arguments),this},type:"style"},hn={join:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object.assign(bn([].concat(e)),dn)}},["paddingTop","paddingBottom","paddingLeft","paddingRight","marginTop","marginBottom","marginLeft","marginRight","fontSize","lineHeight","top","left","bottom","right","borderRadius","textIndent","width","maxWidth","minWidth","height","maxHeight","minHeight","flexBasis","opacity","zIndex","flex","flexGrow","flexShrink","margin","padding","textDecoration","position","alignItems","justifyContent","display","alignContent","backgroundAttachment","backgroundBlendMode","backgroundClip","backgroundOrigin","backgroundRepeat","boxSizing","clear","textAlign","wordWrap","whiteSpace","wordBreak","wordSpacing","verticalAlign","fontStyle","flexDirection","flexWrap","resize","textOverflow","float","visibility","overflow","overflowX","overflowY","cursor","border","borderBottom","borderTop","borderLeft","borderRight","boxShadow","fontFamily","fontWeight","animation","backgroundImage","backgroundSize","backgroundPosition","backdropFilter","filter","transform","transition","outline","clip","flexFlow","textShadow","content","color","backgroundColor","borderColor"].forEach(function(o){dn[o]=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._result[o]=function(t,e,n,o){n===mn&&(o=mn,n="");var r="".concat(n||"").concat(o===mn?"!important":""),i=!!n||An.includes(t);return"number"==typeof e||"string"==typeof e?xn(i,e,r):"react"===e.type?function(){return xn(i,ie(e.exe({type:"style"})),r)}:"function"==typeof e?function(){return xn(i,e(),r)}:function(){return xn(i,e.value,r)}}.apply(null,[o].concat(e)),this},yn(o)}),pn={borderBox:{boxSizing:"border-box"},relative:{position:"relative"},absolute:{position:"absolute"},fixed:{position:"fixed"}},Object.keys(pn).forEach(function(t){dn[t]=function(){return Object.assign(this._result,pn[t]),this},yn(t)}),vn=fn(),Object.keys(vn).forEach(function(t){dn[t]=function(){return Object.assign(this._result,vn[t].apply(vn,arguments)),this}}),hn);function yn(e){hn[e]=function(){var t;return(t=Object.assign(bn([]),dn))[e].apply(t,arguments)}}function bn(t){return{get:function(t){return this._result[t]},_result:{},_styles:nn(t)}}function xn(t,e,n){return t||"string"==typeof e||"number"!=typeof e?e+n:"".concat(e).concat(gn).concat(n)}var wn=["animation","transform","filter","transition"],kn=["webkit","moz","ms","o"],Cn=new RegExp("(".concat(wn.join("|"),") *:.*?(;|$)"),"g");function Sn(t){return t.replace(Cn,function(e){var n=e;return kn.forEach(function(t){n+="-".concat(t,"-").concat(e)}),n})}var An=["zIndex","opacity","flex","flexGrow","flexShrink"],z=Object.assign(function(a){for(var t=arguments.length,l=new Array(1<t?t-1:0),e=1;e<t;e++)l[e-1]=arguments[e];return{generate:function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r="",i=[];if("string"==typeof a)r+=L(a,!0);else if(Dt(a)){var t=a;0===l.length?r+=L(t[0],!0):(r+=L(Zt(t,o),!0),i.push.apply(i,l))}else if("react"===a.type){var e=(t=a.exe({type:"style"})).template,t=t.reactions;r+=L(Zt(e,o),!0),t.push.apply(t,nn(t))}else{if("object"!==tn(a)&&null===a)return console.warn("Invalid style arguments",a,l),{scopeTemplate:"",scopeReactions:[]};for(var n in a)!function(e){var t=(n=function(t,e,n,o){var r,e=1<arguments.length&&void 0!==e?e:0,n=2<arguments.length?n:void 0,o=3<arguments.length?o:void 0,i="",a=[];return"string"==typeof t||"number"==typeof t?i+=n?n(t):t:"react"===t.type?(r=(n=t.exe({type:"style"})).template,0<(n=n.reactions).length?(i=Zt(r,e),a.push.apply(a,Bt(n))):i=r.join("")):(n=w(t),o&&(n=o(n)),i=Gt(e),a.push(n)),{reactions:a,template:i}}(a[e],i.length+o,function(t){return On(e,t)},function(t){return jn(e,t.value)?Kt(function(){return t.value+gn}):t})).reactions,n=n.template;0<t.length&&i.push.apply(i,nn(t)),r+="".concat(En(e),":").concat(n,";")}(n)}return{scopeTemplate:Sn(r),scopeReactions:i}},exe:function(t){var e=t.getAttribute("style")||"",n="";if("string"==typeof a)n+=L(a,!0);else if(Dt(a))0===l.length?n+=a[0]:n=Tn(a,l,t.style,n);else if("react"===a.type)var o=a.exe({type:"style"}),n=Tn(o.template,o.reactions,t.style,n);else if("object"===tn(a)||null!==a){var r,i=t.style;for(r in a)!function(e){var t=fe(a[e],function(t){_n(i,e,t)});n+="".concat(En(e),":").concat(On(e,t),";")}(r)}else console.warn("Invalid style arguments");t.setAttribute("style",e+Sn(n))},mount:function(t){if(!(t="string"==typeof t?document.querySelector(t):t))throw new Error("invalid dom");this.exe(t)},react:function(){var t=this.generate(),e=t.scopeReactions,n=t.scopeTemplate.split(Xt);return function(){return ie({template:n,reactions:e})}},type:"style"}},C);function Tn(t,e,n,o){return(o+=(t=en(L(Zt(t)),2))[0])+function(r,i,a){var t,l="";for(t in i)!function(t){var e,n="",o=b(t,a,function(t,e){r[e]="",_n(r,t,n),o=t},!0),n=b(i[t],a,function(t){_n(r,o,t),n=t});l+=(t=o,e=n,"".concat(En(t),":").concat(On(t,e),";"))}(t);return l}(n,t[1],e)}function En(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function On(t,e){return e+(jn(t,e)?gn:"")}function jn(t,e){return"number"==typeof e&&!An.includes(t)}function L(t,e){var n=1<arguments.length&&void 0!==e&&e;if(!t)return t;for(var o=t.split(/[;\n]/),r="",i={},a=0;a<o.length;a++){var l,s,c,u=o[a].trim();u&&(l=(s=en(It(u,":"),2))[0],(s=s[1])&&(c=En(l),Xt.test(u)&&!n?i[l]=s:r+="".concat(c,":").concat(s,";")))}return n?r:[r,i]}function _n(t,e,n){var o,r,i;n=On(e,n),t[e]=n,o=t,r=e,i=n,wn.includes(r)&&kn.forEach(function(t){o["-".concat(t,"-").concat(r)]=i})}function Pn(t,e){var n,o,r="";return"string"==typeof t?r=t:"object"===tn(t)&&(r="react"===t.type?(n=t.exe({type:"style"}),o=e.length,e.push.apply(e,nn(n.reactions)),Zt(n.template,o)):(o=(n=(t="style"!==t.type?z(t):t).generate(e.length)).scopeReactions,t=n.scopeTemplate,e.push.apply(e,nn(o)),t)),L(r,!0)}function Mn(e,t){return t.split(",").map(function(t){return t=t.trim(),e||t?"&"===t[0]?"".concat(e).concat(t.substring(1)):"".concat(e," ").concat(t).trim():""}).join(",")}cn();var zn=[],Ln=[];var Dn,In,Nn,D={pageIndex:k(0),visible:k(!1),show:k(!1),width:k("500px"),height:k("80%"),clickMaskClose:k(!1),pages:k([])};function Hn(t,e){var e=1<arguments.length&&void 0!==e?e:"",n=(D.visible.value||Rn(),D.pages.length);t&&(t=t,zn[n]=t),D.pages.push({title:e}),new Promise(function(t){setTimeout(function(){D.pageIndex.value=n,t(Ln[n])},0)})}function Rn(t){var e=!(0<arguments.length&&void 0!==t)||t;e?(D.show.value=e,setTimeout(function(){D.visible.value=e},10)):(D.visible.value=e,setTimeout(function(){D.show.value=e},300))}function Yn(t){return t<=1?"".concat(100*t,"%"):"".concat(t,"px")}function qn(){0===D.pageIndex.value?Bn():(D.pageIndex.value--,setTimeout(function(){D.pages.splice(D.pages.length-1,1)},300))}function Bn(){D.show.value&&(Rn(!1),D.pages[Ht]=[],zn=[])}function Fn(t,e){return e=e||t.slice(0),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function Xn(t){var e=t.props;return _(".box-page",z({height:"100%",width:"100%",position:"absolute",display:"inline-block",left:k(Dn=Dn||Fn(["","%"]),function(){return 100*e.index.value})}),_(".box-content",zn[e.index.value]||null,Te(function(t){Ln[e.index.value]=t})))}function $n(){return window.innerWidth<600}function Wn(){var t=D.pageIndex,e=D.show,n=D.visible,o=D.pages,r=D.clickMaskClose,i=D.width,a=D.height,l=k($n()),s=(window.addEventListener("resize",function(){l.value=$n()}),z({position:"absolute",width:function(){return l.value?"100%":i.value},height:function(){return l.value?a.value:"100%"},right:0,left:function(){return l.value?0:"auto"},bottom:function(){return l.value?0:"auto"},top:function(){return l.value?"auto":0},backgroundColor:"#fff",overflow:"hidden",transform:k(In=In||Fn(["translate","(","%)"]),function(){return l.value?"Y":"X"},function(){return n.value?0:100}),transition:"transform .3s ease",boxShadow:"0 0 20px rgba(0, 0, 0, .3)"})),c=z({width:"100%",height:"100%",transform:k(Nn=Nn||Fn(["translateX(","%)"]),function(){return-100*t.value}),transition:"transform .3s ease"});return _(".box-mask",Qe(function(){r.value&&Bn()}),z({boxSizing:"border-box",position:"fixed",width:"100%",height:"100%",backgroundColor:"#0003",top:0,left:0,display:function(){return e.value?"block":"none"},transition:"opacity .3s ease",opacity:function(){return n.value?1:0},zIndex:1e4}),_(".box-container",Qe.stop,s,_(".box-bar",c,Ve(Xn).for(o)(function(t,e){return[(r=Object.assign(Object.assign({},t),{index:e}),{type:"prop",exe:function(){var t,o={};for(t in r)!function(t){var e=r[t],n="function"==typeof e?e:se(e)?function(){return e.value}:function(){return e};o[t]=Kt(n)}(t);return o}})];var r}))),_(".box-control",Qe.stop,z({position:"absolute",fontSize:25,lineHeight:25,textAlign:"center",userSelect:"none",right:function(){return l.value?0:i.value},bottom:function(){return l.value?a.value:"auto"}}),_.show(function(){return 1<o.length})(".box-back",Qe(qn),z({position:function(){return l.value?"fixed":"relative"},left:0,color:"#333"}),Ue('<?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z" fill="none" stroke="#666666" stroke-width="3" stroke-linejoin="round"/><path d="M27 33L18 24L27 15" stroke="#666666" stroke-width="3" stroke-linecap="butt" stroke-linejoin="round"/></svg>')),_(".box-close",Qe(Bn),z.color("#d00"),Ue('<?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z" fill="none" stroke="#dd4444" stroke-width="3" stroke-linejoin="round"/><path d="M29.6567 18.3432L18.343 29.6569" stroke="#dd4444" stroke-width="3" stroke-linecap="butt" stroke-linejoin="round"/><path d="M18.3433 18.3432L29.657 29.6569" stroke="#dd4444" stroke-width="3" stroke-linecap="butt" stroke-linejoin="round"/></svg>'))))}!function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return function(){for(var t=arguments.length,o=new Array(t),e=0;e<t;e++)o[e]=arguments[e];function n(t){var e=function t(e,n){var o,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],a=Mn(r,e),l="",s="",c=an(n);try{for(c.s();!(o=c.n()).done;){var u,f=o.value;f instanceof Array?(l+=(u=t(f[0],f.slice(1),a,i)).template,i.push.apply(i,nn(u.reactions))):s+=Pn(f,i)}}catch(e){c.e(e)}finally{c.f()}return s=Sn(s),{template:(a?"".concat(a,"{").concat(s,"}"):"".concat(s)).concat(l),reactions:i}}(r,o),n=e.template;0<(e=e.reactions).length?t(b(n,e,t)):t(n)}return{reactiveStyle:n,mount:function(t){var e=null;if(t&&!(e="string"==typeof t?document.querySelector(t):t))throw new Error("Invalid mount target");return n(cn(e))}}}}(".box-mask")(["*",z.boxSizing("border-box")],[".box-control",[".box-back,.box-close",z("\nwidth: 24px;\nheight: 24px;\nmargin: 5px;\ncursor: pointer;\ntransition: background-color .3s ease;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n-webkit-tap-highlight-color:transparent;\n            ")]],[".box-content",z({height:"100%",overflowY:"auto"}),["&::-webkit-scrollbar",z({width:5,cursor:"pointer",height:5})],["&::-webkit-scrollbar-button",z({display:"none"})],["&::-webkit-scrollbar-track",z({display:"none"})],["&::-webkit-scrollbar-thumb",z({backgroundColor:"hsla(0,0%,53.3%,.4)",cursor:"pointer"})],["&::-webkit-scrollbar-track-piece",z({backgroundColor:"hsla(0,0%,53.3%,.06666666666666667)"})]]).mount();var Un,Gn,Vn=!1,Jn={version:"0.0.8",config:function(t){var e=t.clickMaskClose,n=t.width,t=t.height;"boolean"==typeof e&&(D.clickMaskClose.value=e),"number"==typeof n&&(D.width.value=Yn(n)),"number"==typeof t&&(D.height.value=Yn(t))},add:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";Vn||(Vn=!0,Wn().mount()),Hn(t,e)},close:Bn,back:qn},Zn=(Jn.config({clickMaskClose:!0}),s(""),new Lt);s.close(),J({func:"\n    .g-loading-mask.tacl-ui{z-index: 10000000;}\n    body {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        overflow: auto;\n        margin: 0;\n    }\n    "}),g("body").append(e.div.style({width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#0008",borderRadius:"5px",cursor:"pointer"}).sizeReady(function(t){Pt({el:t,onClick:function(){var n;Jn.add((Un||(n=Z("width","height","minesCount","tileSize"),Un=e.div.attr("style","\n        margin: 10px;\n        display: flex;\n        gap: 10px;\n        flex-direction: column;\n        width: 100%;\n    ").append(e.div.append(e.span.text("width: "),e.input.attr("type","number").ref(n.width).value(20)),e.div.append(e.span.text("height: "),e.input.attr("type","number").ref(n.height).value(20)),e.div.append(e.span.text("tile size: "),e.input.attr("type","number").ref(n.tileSize).value(20)),e.div.append(e.span.text("mines count: "),e.input.attr("type","number").ref(n.minesCount).value(40)),e.div.style({color:"#666",textDecoration:"underline"}).text("Show Tips").click(function(){Jn.add(Gn=Gn||e.div.attr("style","\n        margin: 10px;\n        display: flex;\n        gap: 10px;\n        flex-direction: column;\n        width: 100%;\n    ").append(e.div.text("Left-click to display the content"),e.div.text("Right-click to identify the mine"),e.div.text("Double click together to press the logo to be determined"),e.div.text("Click the number key to quickly display the surrounding content")).el)}),e.div.append(e.button.text("Render Map").click(function(){s("");var t,e={};for(t in n)e[t]=parseInt(n[t].value());Zn.config(e),s.close()}))).el),Un))}})}).html('<?xml version="1.0" encoding="UTF-8"?><svg width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.2838 43.1713C14.9327 42.1736 11.9498 40.3213 9.58787 37.867C10.469 36.8227 11 35.4734 11 34.0001C11 30.6864 8.31371 28.0001 5 28.0001C4.79955 28.0001 4.60139 28.01 4.40599 28.0292C4.13979 26.7277 4 25.3803 4 24.0001C4 21.9095 4.32077 19.8938 4.91579 17.9995C4.94381 17.9999 4.97188 18.0001 5 18.0001C8.31371 18.0001 11 15.3138 11 12.0001C11 11.0488 10.7786 10.1493 10.3846 9.35011C12.6975 7.1995 15.5205 5.59002 18.6521 4.72314C19.6444 6.66819 21.6667 8.00013 24 8.00013C26.3333 8.00013 28.3556 6.66819 29.3479 4.72314C32.4795 5.59002 35.3025 7.1995 37.6154 9.35011C37.2214 10.1493 37 11.0488 37 12.0001C37 15.3138 39.6863 18.0001 43 18.0001C43.0281 18.0001 43.0562 17.9999 43.0842 17.9995C43.6792 19.8938 44 21.9095 44 24.0001C44 25.3803 43.8602 26.7277 43.594 28.0292C43.3986 28.01 43.2005 28.0001 43 28.0001C39.6863 28.0001 37 30.6864 37 34.0001C37 35.4734 37.531 36.8227 38.4121 37.867C36.0502 40.3213 33.0673 42.1736 29.7162 43.1713C28.9428 40.752 26.676 39.0001 24 39.0001C21.324 39.0001 19.0572 40.752 18.2838 43.1713Z" fill="none" stroke="#ffffff" stroke-width="3" stroke-linejoin="round"/><path d="M24 31C27.866 31 31 27.866 31 24C31 20.134 27.866 17 24 17C20.134 17 17 20.134 17 24C17 27.866 20.134 31 24 31Z" fill="none" stroke="#ffffff" stroke-width="3" stroke-linejoin="round"/></svg>'))}();
